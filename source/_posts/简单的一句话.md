---
title: 简单的命令（shell+python）
abbrlink: 33488
date: 2018-04-24 10:27:37
tags:
---

1. 统计文件中每个字符串的长度

   > grep -o . file.txt | sort | uniq -c | sort -rn

2. Python将16进制字符串转化为ascii码

   > a = "456e"
   >
   > ''.join([chr(int(b, 16)) for b in [a[i:i+2] for i in range(0, len(a), 2)]])

3. Python将16进制字符串转为2进制字符串

   > a = "456e"
   >
   > ''.join([(bin(int(b, 16))[2:]).zfill(8) for b in [a[i:i+2] for i in range(0, len(a), 2)]])

4. Python二进制字符串转16进制字符串

   > str = "0100010101101110"
   >
   > ''.join([(hex(int(b, 2))[2:]).zfill(2) for b in [a[i:i+8] for i in range(0, len(a), 8)]])

5. hexdump使用

   > hexdump [filename]  以16进制查看文件
   >
   > hexdumlp -C [filename] 以16进制查看文件同时显示ascii码

6. 7z使用

   > 7z x [压缩包]

7. binwalk使用

   > binwalk [filename] 查看文件信息
   >
   > binwalk -e [filename]  提取文件

8. strings使用

   > strings -10 [filename] 从二进制文件或普通文件中查找可打印的字符串，-10  设置显示的最小字符串

9. base64使用

   > echo [base64字符串] | base64 -d              base64解密
   >
   > echo [字符串] | base64                              base64加密

10. debin,ubuntu删除所有带 rc 标记的dpkg包

  > dpkg -l | grep ^rc | cut -d' ' -f3 | sudo xargs dpkg --purge

11. 批量计算文件夹中所有文件md5值

    > md5sum *

12. LSB检查

    > ```python
    > >>> import Image
    > >>> a=Image.open('zxczxc.png')
    > >>> a.point(lambda i: 255 if i&1 else 0).show()
    > ```

13. 查看文件夹下边的某个字符串

    > grep -rn -A10 -B5 "php_string_shuffle" ./
    >
    > grep -rn -A10 -B5 "php_string_shuffle" -l ./          只列出文件名

14. 监控目录变化

    > watch -n2 ls -l /proc/11631/fd/

15. dd命令使用

    >  dd if=carter.jpg of=carter-1.jpg skip=140147 bs=1

16. shell文件去重

    > sort filename | uniq

17. socat启动一道pwn题目

    > socat tcp-l:8080,fork exec:./note,reuseaddr

18. exiftool使用

    >exiftool [picture_name]
    >
    >exiftool -Exif:ImageDescription="%^&*()[]{}" [picture_name]

19. curl发送post请求,带上cookie

    > curl -d "param1=value1&param2=value2" -b "cookie_name1=value1&cookie_name2=value2" url 

20. curl上传文件，传递参数

    > curl https://websec.fr/level28/index.php -F "flag_file=@1.php" -F "submit=1"

21. grep匹配字符串

    > grep -Eo "regex_expr"

22. ngrep监听80端口

    > ngrep -W byline -d eth0 port 80

23. scp命令使用

    > A.104.238.161.75，B.43.224.34.73
    >
    >
    >
    > A服务器下操作，将B服务器下/home/lk目录下所有文件复制到本地/home目录下
    >
    > scp -r root@43.224.34.73:/home/lk /home
    >
    >
    >
    > 在A服务器上将/root/lk目录下所有的文件传输到B的/home/lk/cpfile目录下
    >
    > scp -r /root/lk root@43.224.34.73:/home/lk/cpfile

24. nc传送文件

    > A.104.238.161.75     B.43.224.34.73
    >
    > 将B服务器文件【test.txt】从B服务器传送到A服务器下
    >
    > 方案一: 
    >
    > A: nc -l [port] > text.txt
    >
    > B: nc 104.238.161.75 [port] < test.txt
    >
    > 方案二:
    >
    > A: nc 43.224.34.73 [port] > test.txt
    >
    > B: nc -l [port] < test.txt
    >
    >
    >
    > 传输目录:
    >
    > A机器给B机器发送多个文件,需要结合其它的命令，比如tar,经过测试管道后面最后必须是 - ，不能是其余自定义的文件名
    >
    > B: nc -l [port] | tar xfvz -
    >
    > A: tar cfz - * | nc 43.224.34.73 [port]